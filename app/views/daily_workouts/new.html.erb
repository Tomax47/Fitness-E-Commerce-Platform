<div class="h-full">
  <div class="flex mt-10 justify-center self-center">
    <div class="w-full max-w-xs">
      <div class="bg-white shadow-md-rounded px-8 pt-6 pb-8 mb-4">
        <%= simple_form_for @daily_workout do |f| %>
          <% input_html_class = "focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-none" %>
          <%= f.input :focus %>
          <%= f.simple_fields_for :lifts do |l| %>
            <div id="fieldsetContainer">
              <fieldset id="0" class="text-indio-500">
                <%= l.input :name %>
                <%= l.input :sets %>
                <%= l.input :reps %>
          <% end %>
              </fieldset>
            </div>
          <%= f.button :submit, "Create Workout" %>
        <% end %>
        <br />
        <button id="addWorkout" onclick="addWorkout()" class="bg-indigo-500 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-full">
          Add Workout
        </button>
      </div>
    </div>
  </div>
</div>

<script>
  const addWorkout = () => {
    const lastId = document.querySelector('#fieldsetContainer').lastElementChild.id;
    console.log(`ID : ${lastId}`);

    const newId = parseInt(lastId, 10) + 1;
    console.log(`NEW ID : ${newId}`);

    const newFieldset = document.querySelector('[id="0"]').outerHTML.replace(/0/g, newId);
    document.querySelector('#fieldsetContainer').insertAdjacentHTML("beforeend", newFieldset);
  };
</script>